{% extends "_layout.njk" %}

{% block title %}{{applicant.firstName}} {{applicant.lastName}}{% endblock %}
{% block breadcrumbs %}
    <li class="page-header__breadcrumb"><a class="page-header__breadcrumb-link" href="/">Dashboard</a></li>
    <li class="page-header__breadcrumb">Applicant details</li>
{% endblock %}
{% block headline %}{{applicant.firstName}} {{applicant.lastName}}{% endblock %}
{% block lede %}Prospective <strong>{{applicant.role | prettyRole}}</strong> at <strong>{{applicant.branchId}}</strong> branch {% endblock %}
{% block main %}

<div class="grid grid--with-sidebar grid--bottom-margin">

    <main>

        <article class="block">
            <ol class="timeline">
                <li class="timeline__step timeline__step--complete">
                    Applied {{applicant.applicationTime | prettyDate}}
                    <span class="timeline__time-diff">{{applicant.applicationTime | timeTo}}</span>
                </li>
                <li class="timeline__step timeline__step--complete">
                    {# {{applicant.emailReminderSent}} #}
                    Email reminder sent
                </li>
                <li class="timeline__step">
                    {# {{applicant.smsReminderSent}} #}
                    SMS reminder
                </li>
                <li class="timeline__step">
                    Interview on {{applicant.booking.startTime | prettyDate}}
                    <span class="timeline__time-diff">{{applicant.booking.startTime | timeTo}}</span>
                </li>
            </ol>
        </article>

        <article class="block">
            <h2 class="block__title">Contact details</h2>
            <table class="details-table">
                <tbody>
                    <tr>
                        <th scope="row">First name</th>
                        <td>{{applicant.firstName}}</td>
                    </tr>
                    <tr>
                        <th scope="row">Surname</th>
                        <td>{{applicant.lastName}}</td>
                    </tr>
                    <tr>
                        <th scope="row">Email</th>
                        <td>{{applicant.email}} <a class="email-link" href="mailto:{{applicant.email}}">Email applicant</a></td>
                    </tr>
                    <tr>
                        <th scope="row">Phone</th>
                        <td>{{applicant.phone}}</td>
                    </tr>
                </tbody>
            </table>
        </article>

        <article class="block">
            <h2 class="block__title">Interview booking</h2>
            <table class="details-table details-table--bottom-margin">
                <tbody>
                    <tr>
                        <th scope="row">Date and time</th>
                        <td>{{applicant.booking.startTime | prettyDate}}</td>
                    </tr>
                    <tr>
                        <th scope="row">Type</th>
                        <td>{{applicant.booking.type | prettyInterviewType}}</td>
                    </tr>
                    <tr>
                        <th scope="row">Host branch</th>
                        <td>{{applicant.booking.branch.name}} <a class="email-link" href="mailto:{{applicant.booking.branch.email}}">Email host branch</a></td>
                    </tr>
                </tbody>
            </table>
            <button class="button">Reschedule or cancel</button>
        </article>

    </main>



    <aside class="sidebar">
        <article class="block">
            <h2 class="block__title">Location</h2>
            <p>Based on their IP address, this person was in when they applied.</p>
            <p class="small">IP address locations are not always accurate and shouldn't be relied on, especially for people using mobile internet connections.</p>
        </article>

        <article class="block">
            <h2 class="block__title">More about them</h2>
            <table class="details-table details-table--bottom-margin">
                <tbody>
                    <tr>
                        <th scope="row">Gender</th>
                        <td>{{applicant.gender | noneGiven | safe}}</td>
                    </tr>
                    <tr>
                        <th scope="row">Ethnic background</th>
                        <td>{{applicant.ethnicBackground | noneGiven | safe}}</td>
                    </tr>
                    <tr>
                        <th scope="row">Age group</th>
                        <td>{{applicant.ageRange | noneGiven | safe}}</td>
                    </tr>
                </tbody>
            </table>
            <table class="details-table">
                <tbody>
                    <tr>
                        <th scope="row">Accessibility requirements</th>
                        <td>{{applicant.accessibilityRequirements | noneGiven | safe}}</td>
                    </tr>
                </tbody>
            </table>
        </article>

        <article class="block">
            <h2 class="block__title">Contact preferences</h2>
            <table class="details-table">
                <tbody>
                    <tr>
                        <th scope="row">This person wants to hear about...</th>
                        <td></td>
                    </tr>
                    <tr>
                        <th scope="row">By...</th>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </article>
    </aside>



</div>

{% endblock %}